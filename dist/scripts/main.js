"use strict";$.fn.exists=function(e){var t=[].slice.call(arguments,1);return this.length&&e.call(this,t),this},$("div.test").exists(function(){}),function(e){function t(){var t=e(".tlt");t.textillate({"in":{effect:"fadeInUp",delayScale:1,delay:50,sync:!1,shuffle:!1,reverse:!1,callback:function(){}}})}function i(){var e=document.getElementById("dripsBg");e.onload=function(){var e=new RainyDay({image:this,gravityAngle:Math.PI/4,crop:[0,0,1400,700]});e.trail=e.TRAIL_SMUDGE,e.rain([[1,0,10],[4,2,.5]],33)},e.src="../images/blue_sky.jpg"}function n(){function e(e){e=e||{},this.terrain=document.createElement("canvas"),this.terCtx=this.terrain.getContext("2d"),this.terrain.width=a,this.terrain.height=h,this.fillStyle=e.fillStyle||"rgb(244,247,250)",this.mHeight=e.mHeight||h,this.points=[];var t=e.displacement||100,i=Math.pow(2,Math.ceil(Math.log(a)/Math.log(2)));this.points[0]=this.mHeight,this.points[i]=this.points[0];for(var n=1;i>n;n*=2){for(var s=i/n/2;i>s;s+=i/n)this.points[s]=(this.points[s-i/n/2]+this.points[s+i/n/2])/2+Math.floor(Math.random()*-t+t);t*=.6}c.appendChild(this.terrain)}l.width=a,l.height=h,e.prototype.update=function(){this.terCtx.clearRect(0,0,a,h),this.terCtx.fillStyle=this.fillStyle,this.terCtx.beginPath();for(var e=0;a>=e;e++)0===e?this.terCtx.moveTo(0,this.points[0]):void 0!==this.points[e]&&this.terCtx.lineTo(e,this.points[e]);this.terCtx.lineTo(a,this.terrain.height),this.terCtx.lineTo(0,this.terrain.height),this.terCtx.lineTo(0,this.points[0]),this.terCtx.fill()},o.push(new e({displacement:60,fillStyle:"rgb(28, 34, 42)",mHeight:-10})),o.push(new e({displacement:30,fillStyle:"rgb(77, 77, 83)",mHeight:h/4-136})),o.push(new e({displacement:20,fillStyle:"rgb(64, 52, 42)",mHeight:h/4-124})),o.push(new e({displacement:18,fillStyle:"rgb(75, 69, 62)",mHeight:h/4-110})),o.push(new e({displacement:30,fillStyle:"rgb(224, 234, 244)",mHeight:h/4-90})),o.push(new e({displacement:30,fillStyle:"rgb(240,250,255)",mHeight:h/3-40})),o.push(new e({displacement:100,fillStyle:"rgb(212,220,230)",mHeight:h/3})),o.push(new e({displacement:150,fillStyle:"rgb(10, 1, 66)",mHeight:h-200}));for(var t=o.length;t--;)o[t].update()}function s(){e("#floatscene");e("#floatscene").parallax()}function r(){var t=(e(".movers"),new ScrollMagic.Controller),i=(new TimelineMax).set(".img-move-1",{opacity:1,transformStyle:"preserve-3d",perspective:1e3,transformPerspective:1e3,y:"100%"}).set(".img-move-2",{opacity:1,transformStyle:"preserve-3d",perspective:1e3,transformPerspective:1e3,y:"100%"}).set(".text1",{opacity:1,y:"100%"}).to(".img-move-1",1,{y:"-100%",x:"-=80%",rotationY:"+=14",z:"+=10"}).to(".img-move-2",1,{y:"-100%",rotationY:"-=14",z:"-=10"},"-=0.8").to(".text1",1,{y:"-100%"},"-=0.8");new ScrollMagic.Scene({triggerElement:"#dailyuse",triggerHook:.82,duration:"300%"}).setTween(i).addIndicators().addTo(t)}var o=[],l=document.getElementById("bgCanvas"),a=(l.getContext("2d"),window.innerWidth),h=800,c=document.getElementById("terrain"),g=new ScrollMagic.Controller,p=(new TimelineMax).fromTo(".panelscroll-l",1,{y:"-100%"},{y:"100%",ease:Linear.easeNone}).fromTo(".panelscroll-r",1,{y:"100%"},{y:"-100%",ease:Linear.easeNone},"-=1").fromTo(".panelscroll-l",1,{y:"-100%"},{y:"100%",ease:Linear.easeNone}).fromTo(".panelscroll-r",1,{y:"100%"},{y:"-100%",ease:Linear.easeNone},"-=1").fromTo(".panelscroll-l",1,{y:"-100%"},{y:"100%",ease:Linear.easeNone}).fromTo(".panelscroll-r",1,{y:"100%"},{y:"-100%",ease:Linear.easeNone},"-=1");new ScrollMagic.Scene({triggerElement:"#pinContainer",triggerHook:"onLeave",duration:"500%"}).setPin("#pinContainer").setTween(p).addTo(g),e(window).on("load scroll resize",function(){var t=e(document).height(),i=e(window).scrollTop(),n=e(window).height(),s=e(window).width(),r=i/(t-n);n>=t?e("#progress").width(s):e("#progress").width(r*s)}),e(".tlt").exists(function(){t()}),e("#bubs").exists(function(){}),e("#terrain").exists(function(){n()}),e("#floatscene").exists(function(){s()}),e(function(){e("#dripsBg").exists(function(){i()}),e("#dailyuse").exists(function(){r()})})}(jQuery);